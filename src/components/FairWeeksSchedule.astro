---
import { PortableText } from "astro-portabletext";
import Button from "./Button.astro";

interface Props {
  content: {
    title: string;
    description: any[];
    link?: string;
    linkText?: string;
  };
}

const { content } = Astro.props;

const { title, description, link, linkText } = content;
---

<section class="relative bg-[#F8F5F5] py-[115px] overflow-hidden">
  <!-- Grid background -->
  <div class="absolute inset-0 bg-center bg-cover bg-no-repeat opacity-10" style="background-image: url('/images/grid.svg');"></div>
  
  <div class="container mx-auto px-4 relative z-10">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-16 items-center">
      <!-- Text Content -->
      <div class="col-span-1">
        <h2 class="font-source-serif-4 font-bold text-[60px] lg:text-[80px] leading-[1.09] tracking-[-0.03em] mb-8 animate-on-scroll slide-up">
          {title}
        </h2>
        
        <div class="font-source-serif-4 font-normal text-[20px] leading-[1.6] tracking-[-0.03em] text-black max-w-[598px] animate-on-scroll slide-up delay-100">
          <PortableText value={description} />
        </div>
        
        {link && linkText && (
          <div class="mt-10 animate-on-scroll slide-up delay-200">
            <Button href={link} background="primary">
              {linkText}
            </Button>
          </div>
        )}
      </div>
      
      <!-- Calendar -->
      <div class="col-span-1 animate-on-scroll slide-up delay-300">
        <div class="bg-white rounded-[25px] overflow-hidden shadow-[0_4px_24px_rgba(0,0,0,0.08)]">
          <iframe 
            src="https://calendar.google.com/calendar/embed?src=c_b367ee6ca9b167f5e021e10d10914b513a6104f754b86c58d158d422557f2e35%40group.calendar.google.com&ctz=America%2FNew_York&mode=AGENDA&showTitle=0&showNav=1&showDate=1&showPrint=0&showTabs=0&showCalendars=0&showTz=0&height=600&wkst=1&bgcolor=%23ffffff" 
            class="w-full h-[400px] md:h-[500px] lg:h-[587px]" 
            frameborder="0" 
            scrolling="no">
          </iframe>
        </div>
      </div>
    </div>
  </div>
</section>

<style is:global>
  /* Add animation delays */
  .delay-100 {
    animation-delay: 100ms;
  }
  
  .delay-200 {
    animation-delay: 200ms;
  }
  
  .delay-300 {
    animation-delay: 300ms;
  }
</style>
