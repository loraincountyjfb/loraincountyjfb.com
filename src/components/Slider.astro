---
import type { SliderContent } from '../lib/types';

interface Props {
  content: SliderContent;
}

const { content } = Astro.props;
const { title, description, slides = [], autoplay = true, interval = 5000 } = content;
---


<!--Design Pictures Section-->
<section
  class="box-border flex relative flex-col shrink-0 px-5 py-20 w-screen bg-stone-50 min-h-[100px] ml-[calc(50%_-_50vw)]"
>
  <div
    class="box-border relative grow shrink-0 self-stretch px-5 py-20 mx-auto w-full bg-stone-50 max-w-[1300px] min-h-[100px]"
  >
    <div class="px-5 py-10 min-h-[auto]">
      <header class="p-5 mx-auto my-0 text-center max-w-[1200px]">
        <h1
          class="mb-9 text-6xl font-bold tracking-tighter text-black leading-[65.4px] max-md:text-4xl max-sm:mb-5 max-sm:text-4xl"
        >
          Design Pictures
        </h1>
        <p
          class="mx-auto my-0 text-xl tracking-tight leading-8 text-black max-w-[782px] max-md:text-lg max-sm:px-2.5 max-sm:py-0 max-sm:text-base"
        >
          Check out our winning youth-designed apparel! Creative artwork
          showcasing fair spirit and agricultural pride. Vote for your favorites
          and wear our story!
        </p>
      </header>

      <div
        class="flex relative gap-5 justify-center items-center mx-auto my-16 max-w-[1600px] max-sm:mx-auto max-sm:my-8"
        role="region"
        aria-label="Image carousel"
      >
        <button class="carousel-button prev" aria-label="Previous slide">
          <svg
            width="79"
            height="79"
            viewBox="0 0 79 79"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            class="arrow-left cursor-pointer mr-5"
          >
            <circle cx="39.5" cy="39.5" r="39.5" fill="#C9BDF9"></circle>
            <path
              d="M47.375 26.4949L45.3535 24.5625L28.625 40.5L45.3535 56.4375L47.375 54.515L32.6777 40.5L47.375 26.4949Z"
              fill="white"
            ></path>
          </svg>
        </button>

        <div
          class="flex gap-10 justify-center items-center max-md:flex max-md:flex-row carousel-container"
          role="list"
        >
          <div
            class="overflow-hidden rounded-[30px] carousel-item"
            role="listitem"
          >
            <img
              src="https://cdn.builder.io/api/v1/image/assets/TEMP/2cfd47afaa509fee3ecf9d8a4a6fe3c1487928ac"
              alt="Youth with fair apparel"
              class="object-cover max-w-[500px] size-full max-md:max-w-[400px] max-sm:max-w-[300px]"
            />
          </div>
          <div
            class="overflow-hidden rounded-[30px] carousel-item"
            role="listitem"
          >
            <img
              src="https://cdn.builder.io/api/v1/image/assets/TEMP/95577d39ac09c51a2b26444aa9e39c9f7895bed8"
              alt="2024 Fair T-shirt design"
              class="object-cover max-w-[500px] size-full max-md:max-w-[400px] max-sm:max-w-[300px]"
            />
          </div>
          <div
            class="overflow-hidden rounded-[30px] carousel-item"
            role="listitem"
          >
            <img
              src="https://cdn.builder.io/api/v1/image/assets/TEMP/f06ef56e64205714cd636b55770b7cb706c06c47"
              alt="T-shirt display rack"
              class="object-cover max-w-[500px] size-full max-md:max-w-[400px] max-sm:max-w-[300px]"
            />
          </div>
        </div>

        <button class="carousel-button next" aria-label="Next slide">
          <svg
            width="79"
            height="79"
            viewBox="0 0 79 79"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            class="arrow-right cursor-pointer ml-5"
          >
            <circle
              cx="39.5"
              cy="39.5"
              r="39.5"
              transform="matrix(-1 0 0 1 79 0)"
              fill="#C9BDF9"
            ></circle>
            <path
              d="M31.625 26.4949L33.6465 24.5625L50.375 40.5L33.6465 56.4375L31.625 54.515L46.3223 40.5L31.625 26.4949Z"
              fill="white"
            ></path>
          </svg>
        </button>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const container = document.querySelector(".carousel-container");
      const items = document.querySelectorAll(".carousel-item");
      const prevButton = document.querySelector(".carousel-button.prev");
      const nextButton = document.querySelector(".carousel-button.next");

      let currentIndex = 0;
      const totalItems = items.length;

      function updateCarousel() {
        items.forEach((item, index) => {
          if (index === currentIndex) {
            item.style.display = "block";
          } else {
            item.style.display = "none";
          }
        });
      }

      function goToNext() {
        currentIndex = (currentIndex + 1) % totalItems;
        updateCarousel();
      }

      function goToPrev() {
        currentIndex = (currentIndex - 1 + totalItems) % totalItems;
        updateCarousel();
      }

      // Event Listeners
      nextButton.addEventListener("click", goToNext);
      prevButton.addEventListener("click", goToPrev);

      // Keyboard navigation
      document.addEventListener("keydown", (e) => {
        if (e.key === "ArrowLeft") {
          goToPrev();
        } else if (e.key === "ArrowRight") {
          goToNext();
        }
      });

      // Initialize carousel
      updateCarousel();
    });
  </script>
</section>
